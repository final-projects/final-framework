---
title: Starter
layout: page
menus:
- starter
author: likly
date: 2020-03-22 21:30:09 +800
version: 1.0
---

<!--
  ~ Copyright (c) 2018-2020.  the original author or authors.
  ~  <p>
  ~  Licensed under the Apache License, Version 2.0 (the "License");
  ~  you may not use this file except in compliance with the License.
  ~  You may obtain a copy of the License at
  ~  <p>
  ~  http://www.apache.org/licenses/LICENSE-2.0
  ~  <p>
  ~  Unless required by applicable law or agreed to in writing, software
  ~  distributed under the License is distributed on an "AS IS" BASIS,
  ~  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~  See the License for the specific language governing permissions and
  ~  limitations under the License.
  ~
  -->

<div id="starter">


    <div class="col-12 mr-auto ml-auto">
        <!--      Wizard container        -->
        <div class="wizard-container">
            <div class="card card-wizard active" data-color="rose" id="wizardProfile">
                <form action="" method="" novalidate="novalidate">
                    <!--        You can switch " data-color="primary" "  with one of the next bright colors: "green", "orange", "red", "blue"       -->
                    <div class="card-header  text-center">
                        <h3 class="card-title">
                            Final Initializr
                        </h3>
                    </div>
                    <div class="wizard-navigation">
                        <ul class="nav nav-pills">
                            <li class="nav-item" style="width: 33.3333%;">
                                <a class="nav-link active" data-toggle="tab" href="#about" role="tab">
                                    Project
                                </a>
                            </li>
                            <li class="nav-item" style="width: 33.3333%;">
                                <a class="nav-link" data-toggle="tab" href="#account" role="tab">
                                    Metadata
                                </a>
                            </li>
                            <li class="nav-item" style="width: 33.3333%;">
                                <a class="nav-link" data-toggle="tab" href="#address" role="tab">
                                    Dependencies
                                </a>
                            </li>
                        </ul>
                        <div class="moving-tab"
                             style="width: 158.885px; transform: translate3d(-8px, 0px, 0px); transition: all 0.5s cubic-bezier(0.29, 1.42, 0.79, 1) 0s;">
                            About
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="tab-content">
                            <div class="tab-pane active" id="about">
                                <form class="form-horizontal">
                                    <div class="row">
                                        <label class="col-sm-2 col-form-label label-checkbox">Project</label>
                                        <div class="col-sm-10 checkbox-radios">
                                            <div class="form-check form-check-radio form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" name="projectType"
                                                           type="radio"
                                                           v-model="project.type" value="maven"> Maven
                                                    <span class="circle"><span class="check"></span></span>
                                                </label>
                                            </div>
                                            <div class="form-check form-check-radio form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" disabled
                                                           name="projectType" type="radio"
                                                           v-model="project.type" value="gradle"> Gradle
                                                    <span class="circle"><span class="check"></span></span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <label class="col-sm-2 col-form-label label-checkbox">Language</label>
                                        <div class="col-sm-10 checkbox-radios">
                                            <div class="form-check form-check-radio form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" name="Language"
                                                           type="radio"
                                                           v-model="project.language" value="java"> Java
                                                    <span class="circle"><span class="check"></span></span>
                                                </label>
                                            </div>
                                            <div class="form-check form-check-radio form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" disabled
                                                           name="Language" type="radio"
                                                           v-model="project.language" value="kotlin"> Kotlin
                                                    <span class="circle"><span class="check"></span></span>
                                                </label>
                                            </div>
                                            <div class="form-check form-check-radio form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" disabled
                                                           name="Language" type="radio"
                                                           v-model="project.language" value="groovy"> Groovy
                                                    <span class="circle"><span class="check"></span></span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <label class="col-sm-2 col-form-label label-checkbox">Final Boot</label>
                                        <div class="col-sm-10 checkbox-radios">
                                            <div class="form-check form-check-radio form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" name="finalBootVersion"
                                                           type="radio"
                                                           v-model="project.finalBootVersion" value="0.6.0-SNAPSHOT">
                                                    0.6.0-SNAPSHOT
                                                    <span class="circle"><span class="check"></span></span>
                                                </label>
                                            </div>
                                            <div class="form-check form-check-radio form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" name="finalBootVersion"
                                                           type="radio"
                                                           v-model="project.finalBootVersion" value="0.5.3-SNAPSHOT">
                                                    0.5.3-SNAPSHOT
                                                    <span class="circle"><span class="check"></span></span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <label class="col-sm-2 col-form-label label-checkbox">Java</label>
                                        <div class="col-sm-10 checkbox-radios">
                                            <div class="form-check form-check-radio form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" id="java14"
                                                           name="inlineRadioOptions" type="radio"
                                                           v-model="project.javaVersion"> 14
                                                    <span class="circle"><span class="check"></span></span>
                                                </label>
                                            </div>
                                            <div class="form-check form-check-radio form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" id="java11"
                                                           name="inlineRadioOptions" type="radio"
                                                           v-model="project.javaVersion"> 11
                                                    <span class="circle"><span class="check"></span></span>
                                                </label>
                                            </div>
                                            <div class="form-check form-check-radio form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" id="java8"
                                                           name="inlineRadioOptions" type="radio"
                                                           v-model="project.javaVersion" value="1.8"> 8
                                                    <span class="circle"><span class="check"></span></span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="row">
                                        <label class="col-sm-2 col-form-label label-checkbox">Modules</label>
                                        <div class="col-sm-10 checkbox-radios">
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" type="checkbox"
                                                           v-model="entity.enable"> Entity
                                                    <span class="form-check-sign"><span class="check"></span></span>
                                                </label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" type="checkbox"
                                                           v-model="dao.enable"> Dao
                                                    <span class="form-check-sign"><span class="check"></span></span>
                                                </label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" type="checkbox"
                                                           v-model="service.enable"> Service
                                                    <span class="form-check-sign"><span class="check"></span></span>
                                                </label>
                                            </div>

                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" type="checkbox"
                                                           v-model="web.enable"> Web
                                                    <span class="form-check-sign"><span class="check"></span></span>
                                                </label>
                                            </div>


                                            <div class="form-check form-check-inline">
                                                <label class="form-check-label">
                                                    <input class="form-check-input" type="checkbox"
                                                           v-model="man.enable"> Man
                                                    <span class="form-check-sign"><span class="check"></span></span>
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane" id="account">
                                <form class="form-horizontal">


                                    <div class="row">
                                        <label class="col-sm-2 col-form-label">Group</label>
                                        <div class="col-sm-7">
                                            <div class="form-group bmd-form-group">
                                                <input aria-required="true" class="form-control" name="required"
                                                       required="true" type="text"
                                                       v-model="project.group">
                                            </div>
                                        </div>
                                        <label class="col-sm-3 label-on-right">
                                            <code>required</code>
                                        </label>
                                    </div>

                                    <div class="row">
                                        <label class="col-sm-2 col-form-label">Artifact</label>
                                        <div class="col-sm-7">
                                            <div class="form-group bmd-form-group">
                                                <input aria-required="true" class="form-control" name="required"
                                                       required="true" type="text"
                                                       v-model="project.artifact">
                                            </div>
                                        </div>
                                        <label class="col-sm-3 label-on-right">
                                            <code>required</code>
                                        </label>
                                    </div>

                                    <div class="row">
                                        <label class="col-sm-2 col-form-label">Name</label>
                                        <div class="col-sm-7">
                                            <div class="form-group bmd-form-group">
                                                <input aria-required="true" class="form-control" name="required"
                                                       required="true" type="text"
                                                       v-model="project.name">
                                            </div>
                                        </div>
                                        <label class="col-sm-3 label-on-right">
                                            <code>required</code>
                                        </label>
                                    </div>

                                    <div class="row">
                                        <label class="col-sm-2 col-form-label">Description</label>
                                        <div class="col-sm-7">
                                            <div class="form-group bmd-form-group">
                                                <input aria-required="true" class="form-control" name="description"
                                                       required="true"
                                                       type="text"
                                                       v-model="project.description">
                                            </div>
                                        </div>
                                        <label class="col-sm-3 label-on-right">
                                            <code>required</code>
                                        </label>
                                    </div>

                                    <div class="row">
                                        <label class="col-sm-2 col-form-label">Packaging</label>
                                        <div class="col-sm-7">
                                            <div class="form-group bmd-form-group">
                                                <input aria-required="true" class="form-control" name="required"
                                                       required="true" type="text"
                                                       v-model="project.packaging">
                                            </div>
                                        </div>
                                        <label class="col-sm-3 label-on-right">
                                            <code>required</code>
                                        </label>
                                    </div>

                                    <div class="row">
                                        <label class="col-sm-2 col-form-label">Version</label>
                                        <div class="col-sm-7">
                                            <div class="form-group bmd-form-group">
                                                <input aria-required="true" class="form-control" name="required"
                                                       required="true" type="text"
                                                       v-model="project.version">
                                            </div>
                                        </div>
                                        <label class="col-sm-3 label-on-right">
                                            <code>required</code>
                                        </label>
                                    </div>

                                </form>

                            </div>
                            <div class="tab-pane" id="address">

                            </div>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="mr-auto">
                            <input class="btn btn-previous btn-fill btn-default btn-wd disabled" name="previous"
                                   type="button" value="Previous">
                        </div>
                        <div class="ml-auto">
                            <input class="btn btn-next btn-fill btn-rose btn-wd" name="next" type="button" value="Next">
                            <input class="btn btn-finish btn-fill btn-rose btn-wd" name="finish" style="display: none;"
                                   type="button" value="Finish">
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </form>
            </div>
        </div>
        <!-- wizard container -->
    </div>


    <div class="card">
        <div class="card-header card-header-tabs card-header-info">
            <div class="row">
                <div class="col-md-10">
                    <div class="nav-tabs-navigation">
                        <div class="nav-tabs-wrapper">
                            <span class="nav-tabs-title"></span>
                            <ul class="nav nav-tabs" data-tabs="tabs">
                                <li class="nav-item">
                                    <a class="nav-link active show" data-toggle="tab" href="#view">
                                        <i class="material-icons">code</i> <i v-html="project.name"></i>
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link  " data-toggle="tab" href="#sql">
                                        <i class="material-icons">code</i>Entity
                                    </a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link  " data-toggle="tab" href="#dao">
                                        <i class="material-icons">code</i>Dao
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " data-toggle="tab" href="#service">
                                        <i class="material-icons">code</i>Service
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " data-toggle="tab" href="#web">
                                        <i class="material-icons">code</i>Web
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link  " data-toggle="tab" href="#man">
                                        <i class="material-icons">code</i>Man
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-md-2">
                    <div id="toolbar2"></div>
                    <div id="toolbar">

                    </div>

                </div>
            </div>

        </div>
        <div class="card-body" style="min-height: 40%">
            <div class="tab-content">
                <div class="tab-pane active show" id="view">
                    <pre>
                        <code v-html="escapeXml(rootPom())">

                        </code>
                    </pre>
                </div>

                <div class="tab-pane" id="sql">


                </div>

                <div class="tab-pane" id="columns">

                </div>
            </div>
        </div>
    </div>

</div>

<script>
    //格式化代码函数,已经用原生方式写好了不需要改动,直接引用就好
    String.prototype.removeLineEnd = function () {
        return this.replace(/(<.+?\s+?)(?:\n\s*?(.+?=".*?"))/g, '$1 $2')
    }
    var starter = new Vue({
            el: '#starter',
            data: {
                final: {
                    group: 'org.finalframework',
                    artifact: 'final-framework-parent',
                    version: '0.6.0-SNAPSHOT',
                    pom: ''
                },
                project: {
                    type: 'maven',
                    language: 'java',
                    finalBootVersion: '0.6.0-SNAPSHOT',
                    group: 'org.finalframework.starter',
                    artifact: 'final-starter',
                    name: "demo",
                    description: '',
                    packageName: '',
                    packaging: 'pom',
                    version: '1.0.0-SNAPSHOT',
                    pom: '',
                    javaVersion: '1.8'
                },
                entity: {
                    enable: true
                },
                dao: {
                    enable: true
                },
                service: {
                    enable: true
                },
                web: {
                    enable: true
                },
                man: {
                    enable: false
                }


            },
            mounted: function () {
                let _this = this;
// Wizard Initialization
                $('.card-wizard').bootstrapWizard({
                    'tabClass': 'nav nav-pills',
                    'nextSelector': '.btn-next',
                    'previousSelector': '.btn-previous',

                    onNext: function (tab, navigation, index) {
                        var $valid = $('.card-wizard form').valid();
                        if (!$valid) {
                            $validator.focusInvalid();
                            return false;
                        }
                    },

                    onInit: function (tab, navigation, index) {
                        //check number of tabs and fill the entire row
                        var $total = navigation.find('li').length;
                        var $wizard = navigation.closest('.card-wizard');

                        $first_li = navigation.find('li:first-child a').html();
                        $moving_div = $('<div class="moving-tab">' + $first_li + '</div>');
                        $('.card-wizard .wizard-navigation').append($moving_div);

                        _this.refreshAnimation($wizard, index);

                        $('.moving-tab').css('transition', 'transform 0s');
                    },

                    onTabClick: function (tab, navigation, index) {
                        var $valid = $('.card-wizard form').valid();

                        if (!$valid) {
                            return false;
                        } else {
                            return true;
                        }
                    },

                    onTabShow: function (tab, navigation, index) {
                        var $total = navigation.find('li').length;
                        var $current = index + 1;

                        var $wizard = navigation.closest('.card-wizard');

                        // If it's the last tab then hide the last button and show the finish instead
                        if ($current >= $total) {
                            $($wizard).find('.btn-next').hide();
                            $($wizard).find('.btn-finish').show();
                        } else {
                            $($wizard).find('.btn-next').show();
                            $($wizard).find('.btn-finish').hide();
                        }

                        button_text = navigation.find('li:nth-child(' + $current + ') a').html();

                        setTimeout(function () {
                            $('.moving-tab').text(button_text);
                        }, 150);

                        var checkbox = $('.footer-checkbox');

                        if (!index == 0) {
                            $(checkbox).css({
                                'opacity': '0',
                                'visibility': 'hidden',
                                'position': 'absolute'
                            });
                        } else {
                            $(checkbox).css({
                                'opacity': '1',
                                'visibility': 'visible'
                            });
                        }

                        _this.refreshAnimation($wizard, index);
                    },

                });
                // alert(_this.root.pom);
            },
            methods: {
                refreshAnimation: function ($wizard, index) {
                    $total = $wizard.find('.nav li').length;
                    $li_width = 100 / $total;

                    total_steps = $wizard.find('.nav li').length;
                    move_distance = $wizard.width() / total_steps;
                    index_temp = index;
                    vertical_level = 0;

                    mobile_device = $(document).width() < 600 && $total > 3;

                    if (mobile_device) {
                        move_distance = $wizard.width() / 2;
                        index_temp = index % 2;
                        $li_width = 50;
                    }

                    $wizard.find('.nav li').css('width', $li_width + '%');

                    step_width = move_distance;
                    move_distance = move_distance * index_temp;

                    $current = index + 1;

                    if ($current == 1 || (mobile_device == true && (index % 2 == 0))) {
                        move_distance -= 8;
                    } else if ($current == total_steps || (mobile_device == true && (index % 2 == 1))) {
                        move_distance += 8;
                    }

                    if (mobile_device) {
                        vertical_level = parseInt(index / 2);
                        vertical_level = vertical_level * 38;
                    }

                    $wizard.find('.moving-tab').css('width', step_width);
                    $('.moving-tab').css({
                        'transform': 'translate3d(' + move_distance + 'px, ' + vertical_level + 'px, 0)',
                        'transition': 'all 0.5s cubic-bezier(0.29, 1.42, 0.79, 1)'

                    });
                },
                formatXml: function (xml, tab) {
                    var formatted = '', indent = '';
                    tab = tab || '    ';
                    xml.split(/>\s*</).forEach(function (node) {
                        if (node.match(/^\/\w/)) indent = indent.substring(tab.length);
                        formatted += indent + '<' + node + '>\r\n';
                        if (node.match(/^<?\w[^>]*[^\/]$/)) indent += tab;
                    });
                    return formatted.substring(1, formatted.length - 3);
                },
                escapeXml: function (unsafe) {
                    return unsafe.replace(/[<>&'"]/g, function (c) {
                        switch (c) {
                            case '<':
                                return '&lt;';
                            case '>':
                                return '&gt;';
                            case '&':
                                return '&amp;';
                            case '\'':
                                return '&apos;';
                            case '"':
                                return '&quot;';
                        }
                    });
                },
                rootPom: function () {

                    let _this = this;

                    var pom = `<?xml version="1.0" encoding="UTF-8"?>
                               <project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                                        xmlns="http://maven.apache.org/POM/4.0.0"
                                        xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
                                   <parent>
                                       <artifactId>${_this.final.artifact}</artifactId>
                                       <groupId>${_this.final.group}</groupId>
                                       <version>${_this.final.version}</version>
                                   </parent>
                                   <modelVersion>4.0.0</modelVersion>
                                   <groupId>org.finalframework.test</groupId>
                                   <artifactId>${_this.project.artifact}</artifactId>
                                   <version>${_this.project.version}</version>
                                   <name>${_this.project.name}</name>
                                   <description>${_this.project.description}</description>
                                   <packaging>pom</packaging>
                                   <modules>
                                   ${_this.entity.enable ? `<module>${_this.project.artifact}-entity</module>` : ''}
                                   ${_this.dao.enable ? `<module>${_this.project.artifact}-dao</module>` : ''}
                                   ${_this.service.enable ? `<module>${_this.project.artifact}-service</module>` : ''}
                                   ${_this.web.enable ? `<module>${_this.project.artifact}-web</module>` : ''}
                                   ${_this.man.enable ? `<module>${_this.project.artifact}-man</module>` : ''}
                                   </modules>

                                   <properties>
                                        <java.version>${_this.project.javaVersion}</java.version>
                                        <final.version>${_this.final.version}</final.version>
                                        <${_this.project.name}.version>${_this.project.version}</${_this.project.name}.version>
                                   </properties>

                                   <dependencyManagement>
                                        <dependencies>
                                            ${_this.entity.enable ? `<dependency>
                                                <groupId>${_this.project.group}</groupId>
                                                <artifactId>${_this.project.artifact}-entity</artifactId>
                                                <version>\${${_this.project.name}.version}</version>
                                            </dependency>` : ''}
                                            ${_this.dao.enable ? `<dependency>
                                                <groupId>${_this.project.group}</groupId>
                                                <artifactId>${_this.project.artifact}-dao</artifactId>
                                                <version>\${${_this.project.name}.version}</version>
                                            </dependency>` : ''}
                                            ${_this.service.enable ? `<dependency>
                                                <groupId>${_this.project.group}</groupId>
                                                <artifactId>${_this.project.artifact}-service</artifactId>
                                                <version>\${${_this.project.name}.version}</version>
                                            </dependency>` : ''}
                                            ${_this.web.enable ? `<dependency>
                                                <groupId>${_this.project.group}</groupId>
                                                <artifactId>${_this.project.artifact}-web</artifactId>
                                                <version>\${${_this.project.name}.version}</version>
                                            </dependency>` : ''}
                                            ${_this.man.enable ? `<dependency>
                                                <groupId>${_this.project.group}</groupId>
                                                <artifactId>${_this.project.artifact}-man</artifactId>
                                                <version>\${${_this.project.name}.version}</version>
                                            </dependency>` : ''}
                                        </dependencies>
                                    </dependencyManagement>

                               </project>`,
                        xmlDoc = $.parseXML(pom),
                        $pom = $(xmlDoc);


                    let $modules = $pom.find("modules");


                    return _this.formatXml((new XMLSerializer()).serializeToString(xmlDoc));
                },
                download: function () {
                    var zip = new JSZip();
                    zip.file("Hello.txt", "Hello World\n");
                    // var img = zip.folder("images");
                    // img.file("smile.gif", imgData, {base64: true});
                    zip.generateAsync({type: "blob"})
                        .then(function (content) {
                            // see FileSaver.js
                            // saveAs(content, "example.zip");
                        });
                }
            }
        })
    ;
</script>



